!function(t){var e=null,i=null,n=null,l=10,a=2,o=null,r=!1,u="",c=null,s=null;function f(){t(window).on("resize",(function(){clearTimeout(c),c=setTimeout((function(){c=null,i=e.width()-l*(a-1),p()}),100)}))}function d(i){u+='<div class="waterfall-item" style="opacity:0;">'+i+"</div>",clearTimeout(o),o=null,o=setTimeout((function(){u=t(u),e.append(u),u.css("opacity",0).animate({opacity:"1"},100),u="",p()}),100)}function p(o){o&&o.gap&&(l=o.gap,i=e.width()-l*(a-1)),o&&o.column&&(a=o.column,Math.ceil(n.length/a)),o&&o.resize&&(r=o.resize)&&f(),n=e.find(".waterfall-item");var u=0;t.each(n,(function(e,o){var r=function(e){var o=t(e).index(),r=o%a,u=Math.floor(o/a),c=0,s=r*i/a+l*r;if(u>0){for(var f=o,d=0;d<u;d++)f-=a,c+=n.eq(f).height();c+=l*u}return{top:c,left:s}}(o),c=r.top+t(o).height();u=c>u?c:u,t(o).css({overflow:"hidden",position:"absolute",transition:"all .3s",width:i/a,top:r.top,left:r.left})})),e.css({width:"100%",height:u,overflow:"hidden",position:"relative"})}window.Waterfall=function(n){var o=t(n.container);0===o.find(".waterfall-wrapper").length&&o.html('<div class="waterfall-wrapper"></div>'),e=o.find(".waterfall-wrapper"),l=n.gap||l,a=n.column||a,i=e.width()-l*(a-1),(r=n.resize||r)&&f(),this.update=p,this.append=d,new MutationObserver((function(t,e){clearTimeout(s),s=setTimeout((function(){p()}),100)})).observe(e[0],{attributes:!0,childList:!0,subtree:!0})}}($);