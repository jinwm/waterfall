!function(){var e=null,t=null,l=null,n=null,r=10,i=2,o=null,a=!1,f="",u=null,s=null;function c(){if(!a)return window.onresize=null;window.onresize=function(){clearTimeout(u),u=setTimeout((function(){u=null,l=t.offsetWidth-r*(i-1),d()}),100)}}function p(e){f+='<div class="waterfall-item fadeIn">'+e+"</div>",clearTimeout(o),o=null,o=setTimeout((function(){var e,l,n,i,o,a;t.innerHTML=t.innerHTML+f,f="",e=Array.from(t.querySelectorAll(".waterfall-item.fadeIn")),l=function(e){e.forEach((function(e){e.classList.remove("fadeIn")}))},i=0,o=r,a=0,e.forEach((function(e){e.style.opacity=i,e.style.transform="translate3d(0, -"+o+"px, 0)"})),n=setInterval((function(){(a+=10)>=100&&(clearInterval(n),l&&l(e)),i+=.1,o-=r/10,e.forEach((function(e){e.style.opacity=i,e.style.transform="translate3d(0, -"+o+"px, 0)"}))}),10),d()}),100)}function d(e){n=Array.from(t.querySelectorAll(".waterfall-item")).map((function(e,t){return{index:t,el:e}})),e&&(e.gap&&(r=e.gap,l=t.offsetWidth-r*(i-1)),e.column&&(i=e.column,Math.ceil(n.length/i)),!0!==e.resize&&!1!==e.resize||(e.resize&&!a?(a=!0,c()):!1===e.resize&&(a=!1,c())));var o=0;n.forEach((function(e){var t=function(e){var t=e.index,o=t%i,a=Math.floor(t/i),f=0,u=o*l/i+r*o;if(a>0){for(var s=t,c=0;c<a;c++)f+=n[s-=i].el.offsetHeight;f+=r*a}return{pTop:f,pLeft:u}}(e),a=t.pTop+e.el.offsetHeight;o=a>o?a:o,e.el.style.overflow="hidden",e.el.style.position="absolute",e.el.style.transition="all .3s",e.el.style.width=l/i+"px",e.el.style.top=t.pTop+"px",e.el.style.left=t.pLeft+"px"})),t.style.width="100%",t.style.height=o+"px",t.style.overflow="hidden",t.style.position="relative"}window.Waterfall=function(o){e=document.querySelector(o.container),(t=e.querySelector(".waterfall-wrapper"))||((t=document.createElement("div")).className="waterfall-wrapper",e.innerHTML="",e.appendChild(t)),n=Array.from(t.querySelectorAll(".waterfall-item")).map((function(e,t){return{index:t,el:e}})),r=o.gap||r,i=o.column||i,l=t.offsetWidth-r*(i-1),(a=o.resize||a)&&c(),n.length>0&&!(window.MutationObserver&&(new MutationObserver((function(e,t){clearTimeout(s),s=setTimeout((function(){d()}),100)})).observe(t,{attributes:!0,childList:!0,subtree:!0}),1))&&d(),this.update=d,this.append=p}}();